#!/opt/ceh/lib/perl
# -*- mode: perl; -*-

# This script can be used to install packages to
# /opt/ceh/installed/ghclibs directory, that is used by Ceh's GHC
# (ex. when you cabal install packages that link to C libraries etc.).
#
# Read more about this in /opt/ceh/README.org

use strict;
use warnings;
use lib "/opt/ceh/lib";
use CehInstall;

if (not $ARGV[0]) {
    die "Please provide a package name, run ceh_nixpkgs_avail to get a list to choose from!";
}

if ($ENV{CEH_GHC64}) {
    ceh_nixpkgs_install_ghclibs($ARGV[0], bit64 => 1, autoinit => 1);
} else {
    ceh_nixpkgs_install_ghclibs($ARGV[0], autoinit => 1);
}
